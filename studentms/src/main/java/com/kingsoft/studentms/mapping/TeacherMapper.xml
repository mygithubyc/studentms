<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kingsoft.studentms.dao.ITeacherDao">
	<resultMap type="com.kingsoft.studentms.model.Teacher" id="teacher">
		<result column="TEACHER_ID" property="teacherId" jdbcType="INTEGER" />
		<result column="USER_ID" property="userId" jdbcType="INTEGER" />
		<result column="DEPART_ID" property="departId" jdbcType="INTEGER" />
		<result column="ENTRY_TIME" property="entryTime" jdbcType="DATE" />
		<result column="HEAD_TEACHER" property="headTeacher" jdbcType="VARCHAR"/>
	</resultMap>
	
	<insert id="dAddTeacher">
		INSERT INTO TEACHER (
			USER_ID,
			DEPART_ID,
			ENTRY_TIME,
			HEAD_TEACHER
		)
		VALUES
		(#{userId},#{departId},#{entryDate},0)
	</insert>
	<update id="dSetHeadTeacher">
		UPDATE TEACHER SET HEAD_TEACHER = 1 WHERE TEACHER_ID = #{_teacherId}
	</update>
</mapper>